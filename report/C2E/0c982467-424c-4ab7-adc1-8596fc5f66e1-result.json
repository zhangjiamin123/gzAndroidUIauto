{"name": "C2E 绑定-解绑", "status": "failed", "statusDetails": {"message": "AssertionError: assert '.device.connect.ui.ConnectDeviceActivity' in ('.main.MainActivity', '.account.login.LoginActivity')\n +  where '.device.connect.ui.ConnectDeviceActivity' = <appium.webdriver.webdriver.WebDriver (session=\"7819f33d-2abd-4df9-99b9-e7a42daa62a8\")>.current_activity", "trace": "@staticmethod\n    def setup_class():\n        master.close_app()\n        master.implicitly_wait(10)\n        master.launch_app()\n        master.implicitly_wait(10)\n    \n        # 登录状态下启动app 进入首页 activity 是：.SplashActivity，不是：.account.login.LoginActivity，所以不能通过activity判断是否在首页\n        # 通过登录后首页左上角的menu图标判断\n        if not gz_public.isElementPresent(driver=master, by=\"id\", value=\"com.glazero.android:id/img_menu\"):\n>           TestGzLogin.test_gzLogin(self=NotImplemented)\n\ntest_gzAndroidAuto.py:263: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = NotImplemented, user_name = '1010642719@qq.com', pass_word = 'Qwe222222'\nregion = '+86'\n\n    @allure.story('输入用户名和密码登录aosu app')\n    def test_gzLogin(self, user_name=gz_public.email, pass_word=gz_public.pwd, region=gz_public.REGION):\n        with allure.step('step1：在splash页，点击 登录 按钮'):\n            master.find_element_by_id(\"com.glazero.android:id/splash_login\").click()\n            master.implicitly_wait(10)\n    \n        with allure.step('step2：输入用户名'):\n            master.find_elements_by_id(\"com.glazero.android:id/edit_text\")[0].clear()\n            master.implicitly_wait(10)\n            master.find_elements_by_id(\"com.glazero.android:id/edit_text\")[0].click()\n            master.implicitly_wait(10)\n            master.find_elements_by_id(\"com.glazero.android:id/edit_text\")[0].send_keys(user_name)\n    \n        # 输入完成后隐藏键盘\n        master.hide_keyboard()\n    \n        with allure.step('step3: 输入密码'):\n            master.find_elements_by_id(\"com.glazero.android:id/edit_text\")[1].clear()\n            master.implicitly_wait(10)\n            master.find_elements_by_id(\"com.glazero.android:id/edit_text\")[1].click()\n            master.implicitly_wait(10)\n            master.find_elements_by_id(\"com.glazero.android:id/edit_text\")[1].send_keys(pass_word)\n    \n        # 输入完成后隐藏键盘\n        master.hide_keyboard()\n    \n        with allure.step('step4：选择地区'):\n            master.find_elements_by_id(\"com.glazero.android:id/edit_text\")[2].click()\n            master.implicitly_wait(10)\n            master.find_element_by_android_uiautomator(\n                'new UiScrollable(new UiSelector().scrollable(true)).scrollIntoView(new UiSelector().text(\"%s\"))' % region)\n            master.implicitly_wait(10)\n            master.find_element_by_xpath(\n                '//android.widget.TextView[@text=\"%s\"]' % region).click()  # 此时只能写类名\n            master.implicitly_wait(10)\n        # 点击登录按钮之前截图\n        time.sleep(3)\n        ts = time.strftime(\"%Y-%m-%d_%H-%M-%S\", time.localtime())\n        master.save_screenshot('./report/login_%s.png' % ts)\n        master.implicitly_wait(10)\n    \n        with allure.step('step5：点击 登录 按钮'):\n            allure.attach.file(\"./report/login_%s.png\" % ts, name=\"登录页面\", attachment_type=allure.attachment_type.JPG)\n            master.find_element_by_id(\"com.glazero.android:id/button\").click()\n            master.implicitly_wait(10)\n    \n        # 点击登录按钮之后即进入首页后截图截图\n        time.sleep(5)\n        master.save_screenshot('./report/homePage.png')\n        master.implicitly_wait(10)\n    \n        with allure.step('step6: 登录成功'):\n            allure.attach.file(\"./report/homePage.png\", name=\"登陆成功 进入首页\", attachment_type=allure.attachment_type.JPG)\n    \n        # 登录后进入首页，有可能会弹出低电量的弹窗，发现后点击“知道了”关闭弹窗\n        if gz_public.isElementPresent(driver=master, by=\"id\",\n                                      value=\"com.glazero.android:id/btn_dialog_confirm\") is True:\n            master.find_element_by_id(\"com.glazero.android:id/btn_dialog_confirm\").click()\n            master.implicitly_wait(10)\n    \n        # 没有设备的情况下启动app后会进入select model页面，兼容该页面，点击返回<，回到首页\n        if gz_public.isElementPresent(driver=master, by=\"id\", value=\"com.glazero.android:id/tv_title_string\") is True:\n            if master.find_element_by_id('com.glazero.android:id/tv_title_string').text == 'Select Model':\n                master.find_element_by_id('com.glazero.android:id/img_title_back').click()\n                master.implicitly_wait(10)\n    \n        # 断言是否进入首页，关键元素是：菜单按钮、logo、添加设备按钮、设备tab、回放tab、在线客服tab\n>       assert master.current_activity in (\".main.MainActivity\", \".account.login.LoginActivity\")\nE       assert '.device.connect.ui.ConnectDeviceActivity' in ('.main.MainActivity', '.account.login.LoginActivity')\nE        +  where '.device.connect.ui.ConnectDeviceActivity' = <appium.webdriver.webdriver.WebDriver (session=\"7819f33d-2abd-4df9-99b9-e7a42daa62a8\")>.current_activity\n\ntest_gzAndroidAuto.py:234: AssertionError"}, "attachments": [{"name": "log", "source": "a586a6cc-c6d3-49c0-b758-08225349b2aa-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "__pytest_repeat_step_number", "value": "2"}], "start": 1659448015014, "stop": 1659448015014, "uuid": "6ef54c25-facd-45ec-ad03-a3269245ab62", "historyId": "fda47646812923513a3a878ac63e955f", "testCaseId": "f47a95e34417d660abf3e4cbbb2d0564", "fullName": "test_gzAndroidAuto.TestAddDevices#test_addC2E", "labels": [{"name": "story", "value": "用户循环测试C2E的绑定和解绑，每次绑定间隔1个小时"}, {"name": "feature", "value": "添加设备-配网"}, {"name": "suite", "value": "test_gzAndroidAuto"}, {"name": "subSuite", "value": "TestAddDevices"}, {"name": "host", "value": "LAPTOP-V9T4AUSR"}, {"name": "thread", "value": "76244-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_gzAndroidAuto"}]}